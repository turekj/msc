\chapter{Wstęp}

\section{Przedmiot pracy}

Przedmiotem niniejszej pracy magisterskiej jest aplikacja mobilna umożliwiająca umieszczenie wirtualnego obrazu w rzeczywistej lokalizacji.
Przebieg działania aplikacji przedstawia się następująco:
\begin{itemize}
 \item użytkownik wybiera plik obrazu i nakierowuje kamerę telefonu na miejsce (np. gniazdko elektryczne na ścianie), na której chce go umieścic;
 \item następnie aplikacja zapamiętuje tło obrazu (np. wspomniane gniazdko elektryczne);
 \item kiedy użytkownik ponownie wskaże dane miejsce kamerą telefonu, na ekranie urządzenia pojawi się - odpowiednio obrócony i przeskalowany - wybrany obraz.
\end{itemize}

Aplikacja umożliwia również przechowywanie danych na serwerze, tak aby umieszczone przez danego użytkownika obrazy mogły być oglądane także przez innych użytkowników.



\section{Dziedzina problemu}
Aplikacja porusza problemy zawierające się w kilku dziedzinach:

\begin{itemize}
 \item rozpoznawanie obrazu (rozpoznanie tła, na którym powinien zostać wyświetlony obraz),
 \item przetwarzanie obrazu (obracanie i skalowanie obrazu),
 \item komunikacja klient-serwer (przesyłanie obrazu i danych dotyczących jego tła),
 \item przechowywanie danych (przetrzymywanie wyżej wymienionych danych w bazie danych).
\end{itemize}


\subsection{Rozpoznawanie i przetwarzanie obrazu}
Aby rozpoznać tło, na którym powinien być wyświetlony obraz, należy wykonać następującą procedurę~\cite{graf:przet:obr}:
\begin{enumerate}
 \item dokonać akwizycji obrazu, tj. przetworzenia obrazu obiektu fizycznego do postaci obrazu cyfrowego;
 \item wykonać wstępne przetwarzanie obrazu, tj. zredukować zniekształcenia powstałe podczas akwizycji;
 \item dokonać segmentacji obrazu, tj. wydzielenia poszczególnych obiektów zawartych w obrazie;
 \item przeprowadzić analizę uzyskanych segmentów i rozpoznać poszukiwany obiekt.
\end{enumerate}

\subsubsection{Akwizycja obrazu}
Istnieje kilka sposobów uzyskiwania obrazów cyfrowych.
Niektóre z nich, to~\cite{anal:przet:obr}:
\begin{itemize}
 \item kamera video,
 \item cyfrowy aparat fotograficzny,
 \item skaner,
 \item ręczne stworzenie obrazu przy pomocy programu graficznego.
\end{itemize}

Jako że aplikacja uruchamiana będzie na urządzeniach typu smartfon, akwizycja obrazu będzie odbywać się poprzez wykorzystanie aparatu cyfrowego zamontowanego w danym urządzeniu.

\subsubsection{Przetwarzanie wstępne}

\subsubsection{Segmentacja}

\subsubsection{Analiza i rozpoznanie}


Dodatkowo, wyświetlany obraz powinien być odpowiednio przetworzony, tak aby użytkownik miał wrażenie, że rzeczywiświe znajduje się on na wskazanej powierzchni.
Aby uzyskać pożądany efekt, obraz należy poddać odpowiednim przeksztaceniom geometrycznym.
Dostępne przekształcenia to między innymi~\cite{anal:przet:obr}:
\begin{itemize}
 \item przesunięcia,
 \item obroty,
 \item skalowanie,
 \item odbicia.
\end{itemize}

W tym przypadku wykorzystać należy obroty i skalowanie.

\subsubsection{Obracanie obrazu}
Wyświetlany obraz powinien zostać obrócony, tak aby zniwelować różnicę pomiędzy orientacją urządzenia w chwili umieszczenia, a jego orientacją w chwili wyświetlenia obrazu.


\subsubsection{Skalowane obrazu}
Skalowanie, czyli zmiana rozmiaru wyświetlanego obrazu~\cite{geo:tools}, powinno zostać wykonane, aby użytkownik mógł odnieść wrażenie zbliżania się do obrazu lub oddalania się od niego.

Współczynnik przeskalowania obrazu powinien być ustalony na podstawie porównania rozmiarów obiektów oryginalnego tła obrazu z ich rozmiarami na obrazie odczytanym przez kamerę urządzenia - współczynnik przeskalowania wyświetlanego obrazu powinien być równy stosunkowi tych rozmiarów.

\input{figures/rotation_and_scale}

\subsection{Komunikacja klient-serwer}
Komunikacja pomiędzy klientem a serwerem może być zrealizowana przy użyciu różnych protokołów, takich jak:
\begin{itemize}
 \item UDP (User Datagram Procotol)~\cite{udp}
 \item TCP (Transmission Control Protocol)~\cite{tcp}
 \item HTTP (Hypertext Transfer Protocol)~\cite{http1,http2}, jako \emph{web service}\footnote{https://pl.wikipedia.org/wiki/Usługa\_internetowa} wykorzystujący jeden z poniższych sposobów dostępu do danych:
  \begin{itemize}
   \item SOAP (Simple Object Access Protocol)~\cite{soap}
   \item REST (Representational State Transfer)~\cite{rest}
   \item OData (Open Data Protocol)~\cite{odata}
  \end{itemize}
\end{itemize}


\subsection{Przechowywanie danych}
Najpopularniejszym sposobem przechowywania danych w tego typu aplikacjach jest wykorzystanie bazy danych.